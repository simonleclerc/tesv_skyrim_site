<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">

    <title>Poolboy - Skills</title>
    <link href="css/reset.css" media="all" rel="stylesheet"/>
    <link href="css/style.css" media="all" rel="stylesheet"/>
</head>
<!-- @todo better repeatable bg image-->
<body style="background-color: #000000;"class="page--skills">
<div class="background-fullsize"></div>
<div class="header">
    <svg version="1.1" id="bgSkillheader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%"  viewBox="0 0 1257.065 67.353" enable-background="new 0 0 1257.065 67.353"
	 xml:space="preserve">
<g id="menu">
	<polygon fill="#101112" opacity="0.9" points="1257.065,33.625 1231.841,14 1227.227,17.64 1210.315,0 46.75,0 29.839,17.64 25.225,14 0,33.625
		0.065,33.676 0,33.728 25.225,53.352 29.839,49.713 46.75,67.353 1210.315,67.353 1227.227,49.713 1231.841,53.352
		1257.065,33.728 1257,33.676 	"/>
	<g>
		<polygon fill="#858A89" points="42.301,42.687 38.058,39.202 36.024,40.771 41.413,45.187 48.649,45.187 48.649,22.062
			41.413,22.062 29.93,31.388 31.909,33 42.301,24.562 46.149,24.562 46.149,42.687 		"/>
		<polygon fill="#858A89" points="34.482,36.271 24.783,28.422 27.8,25.515 25.809,23.961 21.014,28.577 32.445,37.836 		"/>
		<polygon fill="#858A89" points="48.756,5.375 1207.52,5.375 1231.494,28.422 1227.758,31.468 1229.737,33.08 1235.262,28.577
			1208.527,2.875 47.75,2.875 28.651,21.227 30.644,22.781 		"/>
		<polygon fill="#858A89" points="1213.975,24.562 1218.219,28.047 1220.252,26.479 1214.863,22.062 1207.627,22.062
			1207.627,45.187 1214.863,45.187 1226.347,35.861 1224.367,34.25 1213.975,42.687 1210.127,42.687 1210.127,24.562 		"/>
		<polygon fill="#858A89" points="1207.52,61.875 48.756,61.875 24.783,38.827 28.519,35.781 26.539,34.169 21.014,38.672
			47.75,64.375 1208.527,64.375 1227.625,46.022 1225.633,44.468 		"/>
		<polygon fill="#858A89" points="1221.794,30.979 1231.494,38.827 1228.477,41.734 1230.468,43.288 1235.262,38.672
			1223.831,29.413 		"/>
		<path fill="#858A89" d="M37.964,29.252l5.593,4.372l-12.727,9.828l-1.821-1.75l10.48-8.078l-3.519-2.756L37.964,29.252z
			 M35.212,27.121 M32.492,28.177l-8.052-6.28L9.391,33.625l15.05,11.728l1.179-0.962l1.821,1.75l-3,2.382L5.323,33.625
			L24.44,18.727l10.047,7.835L32.492,28.177z"/>
		<path fill="#858A89" d="M1218.313,37.997l-5.594-4.372l12.727-9.828l1.821,1.75l-10.48,8.078l3.519,2.756L1218.313,37.997z
			 M1221.064,40.128 M1223.784,39.072l8.052,6.28l15.05-11.728l-15.05-11.728l-1.179,0.962l-1.821-1.75l3-2.382l19.117,14.897
			l-19.117,14.897l-10.047-7.835L1223.784,39.072z"/>
	</g>
</g>
</svg>
    <div><span class="label">NAME&nbsp;<span class="label__content"> Simon</span></span></div>
    <div class="level">
        <span class="label">LEVEL <span id="footer-age" class="label__content"></span></span>

        <svg version="1.1" id="footerBarSvg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"
                 width="330.036px" height="34px" viewBox="0 0 330.036 34" enable-background="new 0 0 330.036 34" xml:space="preserve">
                <defs>
                    <linearGradient id="footer_bar_gradient_color" gradientUnits="userSpaceOnUse" x1="33.1406" y1="16.9937" x2="296.8965" y2="16.9937">
                        <stop  offset="0.0106" style="stop-color:#90BBDE"/>
                        <stop  offset="0.1968" style="stop-color:#6DBBCE"/>
                        <stop  offset="0.6809" style="stop-color:#5A76A8"/>
                        <stop  offset="1" style="stop-color:#525598"/>
                    </linearGradient>
                    <linearGradient id="footer_bar_gradient_darker" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.49" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.5" style="stop-color:#000000;stop-opacity:.5"/>
                        <stop  offset=".8" style="stop-color:#1b282e;stop-opacity:.5"/>
                    </linearGradient>
                    <linearGradient id="footer_bar_gradient_lighter" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.49" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.5" style="stop-color:#FFFFFF;stop-opacity:.7"/>
                        <stop  offset=".8" style="stop-color:#FFFFFF;stop-opacity:0"/>
                    </linearGradient>
                </defs>
                <!-- rect full width = 263.756 -->
            <g>
                <rect x="33.141" y="7.988" fill="url(#footer_bar_gradient_darker)" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#footer_bar_gradient_color)" class="levelBar" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#footer_bar_gradient_lighter)" class="levelBar" width="263.756" height="18.012"/>
                <path d="M330.036,17L309.212,1.006l-3.075,2.236L302.564,0H27.631l-3.643,3.307l-3.163-2.3L0,17l20.825,15.994l3.163-2.3L27.631,34
                    h274.933l3.573-3.243l3.075,2.236L330.036,17z M304.896,19.963v-5.926l0.683-0.497L309.392,17l-3.812,3.459L304.896,19.963z
                     M25.141,14.037v5.926l-0.595,0.433L20.804,17l3.741-3.396L25.141,14.037z M299.475,26H30.72l-0.124-0.112l2.544-1.851V9.963
                    l-2.544-1.851L30.72,8h268.755l0.054,0.048l-2.632,1.915v14.074l2.632,1.915L299.475,26z"/>
                <path fill="#858A89" d="M325.11,17L309.163,4.751l-3.072,2.234l-4.667-4.236H28.613l-4.667,4.236l-3.072-2.234L4.926,17
                    l15.949,12.249l3.072-2.234l4.667,4.236h272.81l4.667-4.236l3.072,2.234L325.11,17z M20.907,26.751L8.209,17l12.698-9.751
                    l1.527,1.11L12.913,17l9.521,8.641L20.907,26.751z M24.499,9.861l3.642,2.648v8.981l-3.642,2.648L16.633,17L24.499,9.861z
                     M300.458,28.75H29.579l-3.567-3.238l4.129-3.003V11.491l-4.129-3.003l3.567-3.238h270.878l3.567,3.238l-4.128,3.003v11.019
                    l4.128,3.003L300.458,28.75z M305.538,9.861L313.404,17l-7.866,7.139l-3.642-2.648v-8.981L305.538,9.861z M307.603,25.641
                    L317.124,17l-9.521-8.641l1.527-1.11L321.827,17l-12.697,9.751L307.603,25.641z"/>
                </g>
            </svg>
        </div>
    <div><span class="label">RACE&nbsp;<span class="label__content"> Homo Sapiens</span></span></div>
</div>

<div class="content">
    <ul class="skills">
    </ul>
    <div class="desc-skill"></div>
</div>

<div class="footer">
    <div class="level">
    <span class="label">MOTIVATION <span class="label__content">290/290</span></span>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"
                 width="330.036px" height="34px" viewBox="0 0 330.036 34" enable-background="new 0 0 330.036 34" xml:space="preserve">
                <defs>
                    <linearGradient id="mana_bar_gradient_color" gradientUnits="userSpaceOnUse" x1="33.1406" y1="16.9937" x2="296.8965" y2="16.9937">
                        <stop  offset="0.0106" style="stop-color:#284ad5"/>
                        <stop  offset="0.1968" style="stop-color:#223cc1"/>
                        <stop  offset="0.6809" style="stop-color:#131487"/>
                        <stop  offset="1" style="stop-color:#0c016d"/>
                    </linearGradient>
                    <linearGradient id="mana_bar_gradient_darker" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.49" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.5" style="stop-color:#000000;stop-opacity:.5"/>
                        <stop  offset=".8" style="stop-color:#1b282e;stop-opacity:.5"/>
                    </linearGradient>
                    <linearGradient id="mana_bar_gradient_lighter" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.49" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.5" style="stop-color:#FFFFFF;stop-opacity:.7"/>
                        <stop  offset=".8" style="stop-color:#FFFFFF;stop-opacity:0"/>
                    </linearGradient>
                </defs>
                <!-- rect full width = 263.756 -->
            <g>
                <rect x="33.141" y="7.988" fill="url(#mana_bar_gradient_darker)" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#mana_bar_gradient_color)" class="levelBar" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#mana_bar_gradient_lighter)" class="levelBar" width="263.756" height="18.012"/>
                <path d="M330.036,17L309.212,1.006l-3.075,2.236L302.564,0H27.631l-3.643,3.307l-3.163-2.3L0,17l20.825,15.994l3.163-2.3L27.631,34
                    h274.933l3.573-3.243l3.075,2.236L330.036,17z M304.896,19.963v-5.926l0.683-0.497L309.392,17l-3.812,3.459L304.896,19.963z
                     M25.141,14.037v5.926l-0.595,0.433L20.804,17l3.741-3.396L25.141,14.037z M299.475,26H30.72l-0.124-0.112l2.544-1.851V9.963
                    l-2.544-1.851L30.72,8h268.755l0.054,0.048l-2.632,1.915v14.074l2.632,1.915L299.475,26z"/>
                <path fill="#858A89" d="M325.11,17L309.163,4.751l-3.072,2.234l-4.667-4.236H28.613l-4.667,4.236l-3.072-2.234L4.926,17
                    l15.949,12.249l3.072-2.234l4.667,4.236h272.81l4.667-4.236l3.072,2.234L325.11,17z M20.907,26.751L8.209,17l12.698-9.751
                    l1.527,1.11L12.913,17l9.521,8.641L20.907,26.751z M24.499,9.861l3.642,2.648v8.981l-3.642,2.648L16.633,17L24.499,9.861z
                     M300.458,28.75H29.579l-3.567-3.238l4.129-3.003V11.491l-4.129-3.003l3.567-3.238h270.878l3.567,3.238l-4.128,3.003v11.019
                    l4.128,3.003L300.458,28.75z M305.538,9.861L313.404,17l-7.866,7.139l-3.642-2.648v-8.981L305.538,9.861z M307.603,25.641
                    L317.124,17l-9.521-8.641l1.527-1.11L321.827,17l-12.697,9.751L307.603,25.641z"/>
                </g>
            </svg>
</div>
    <div class="level">
    <span class="label">HEALTH <span class="label__content">150/150</span></span>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"
                 width="330.036px" height="34px" viewBox="0 0 330.036 34" enable-background="new 0 0 330.036 34" xml:space="preserve">
                <defs>
                    <linearGradient id="health_bar_gradient_color" gradientUnits="userSpaceOnUse" x1="33.1406" y1="16.9937" x2="296.8965" y2="16.9937">
                        <stop  offset="0.0106" style="stop-color:#dc2020"/>
                        <stop  offset="0.1968" style="stop-color:#b91e1e"/>
                        <stop  offset="0.6809" style="stop-color:#7e1b1b"/>
                        <stop  offset="1" style="stop-color:#571919"/>
                    </linearGradient>
                    <linearGradient id="health_bar_gradient_darker" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.49" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.5" style="stop-color:#000000;stop-opacity:.5"/>
                        <stop  offset=".8" style="stop-color:#1b282e;stop-opacity:.5"/>
                    </linearGradient>
                    <linearGradient id="health_bar_gradient_lighter" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.49" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.5" style="stop-color:#FFFFFF;stop-opacity:.7"/>
                        <stop  offset=".8" style="stop-color:#FFFFFF;stop-opacity:0"/>
                    </linearGradient>
                </defs>
                <!-- rect full width = 263.756 -->
            <g>
                <rect x="33.141" y="7.988" fill="url(#health_bar_gradient_darker)" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#health_bar_gradient_color)" class="levelBar" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#health_bar_gradient_lighter)" class="levelBar" width="263.756" height="18.012"/>
                <path d="M330.036,17L309.212,1.006l-3.075,2.236L302.564,0H27.631l-3.643,3.307l-3.163-2.3L0,17l20.825,15.994l3.163-2.3L27.631,34
                    h274.933l3.573-3.243l3.075,2.236L330.036,17z M304.896,19.963v-5.926l0.683-0.497L309.392,17l-3.812,3.459L304.896,19.963z
                     M25.141,14.037v5.926l-0.595,0.433L20.804,17l3.741-3.396L25.141,14.037z M299.475,26H30.72l-0.124-0.112l2.544-1.851V9.963
                    l-2.544-1.851L30.72,8h268.755l0.054,0.048l-2.632,1.915v14.074l2.632,1.915L299.475,26z"/>
                <path fill="#858A89" d="M325.11,17L309.163,4.751l-3.072,2.234l-4.667-4.236H28.613l-4.667,4.236l-3.072-2.234L4.926,17
                    l15.949,12.249l3.072-2.234l4.667,4.236h272.81l4.667-4.236l3.072,2.234L325.11,17z M20.907,26.751L8.209,17l12.698-9.751
                    l1.527,1.11L12.913,17l9.521,8.641L20.907,26.751z M24.499,9.861l3.642,2.648v8.981l-3.642,2.648L16.633,17L24.499,9.861z
                     M300.458,28.75H29.579l-3.567-3.238l4.129-3.003V11.491l-4.129-3.003l3.567-3.238h270.878l3.567,3.238l-4.128,3.003v11.019
                    l4.128,3.003L300.458,28.75z M305.538,9.861L313.404,17l-7.866,7.139l-3.642-2.648v-8.981L305.538,9.861z M307.603,25.641
                    L317.124,17l-9.521-8.641l1.527-1.11L321.827,17l-12.697,9.751L307.603,25.641z"/>
                </g>
            </svg>
</div>
    <div class="level">
    <span class="label">ENERGY <span class="label__content">280/280</span></span>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"
                 width="330.036px" height="34px" viewBox="0 0 330.036 34" enable-background="new 0 0 330.036 34" xml:space="preserve">
                <defs>
                    <linearGradient id="stamina_bar_gradient_color" gradientUnits="userSpaceOnUse" x1="33.1406" y1="16.9937" x2="296.8965" y2="16.9937">
                        <stop  offset="0.0106" style="stop-color:#339865"/>
                        <stop  offset="0.1968" style="stop-color:#267e4b"/>
                        <stop  offset="0.6809" style="stop-color:#125624"/>
                        <stop  offset="1" style="stop-color:#003300"/>
                    </linearGradient>
                    <linearGradient id="stamina_bar_gradient_darker" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.49" style="stop-color:#1b282e;stop-opacity:.5"/>
                        <stop  offset="0.5" style="stop-color:#000000;stop-opacity:.5"/>
                        <stop  offset=".8" style="stop-color:#1b282e;stop-opacity:.5"/>
                    </linearGradient>
                    <linearGradient id="stamina_bar_gradient_lighter" gradientUnits="userSpaceOnUse" x1="165.0186" y1="26" x2="165.0186" y2="7.9878">
                        <stop  offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.49" style="stop-color:#FFFFFF;stop-opacity:0"/>
                        <stop  offset="0.5" style="stop-color:#FFFFFF;stop-opacity:.7"/>
                        <stop  offset=".8" style="stop-color:#FFFFFF;stop-opacity:0"/>
                    </linearGradient>
                </defs>
                <!-- rect full width = 263.756 -->
            <g>
                <rect x="33.141" y="7.988" fill="url(#stamina_bar_gradient_darker)" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#stamina_bar_gradient_color)" class="levelBar" width="263.756" height="18.012"/>
                <rect x="33.141" y="7.988" fill="url(#stamina_bar_gradient_lighter)" class="levelBar" width="263.756" height="18.012"/>
                <path d="M330.036,17L309.212,1.006l-3.075,2.236L302.564,0H27.631l-3.643,3.307l-3.163-2.3L0,17l20.825,15.994l3.163-2.3L27.631,34
                    h274.933l3.573-3.243l3.075,2.236L330.036,17z M304.896,19.963v-5.926l0.683-0.497L309.392,17l-3.812,3.459L304.896,19.963z
                     M25.141,14.037v5.926l-0.595,0.433L20.804,17l3.741-3.396L25.141,14.037z M299.475,26H30.72l-0.124-0.112l2.544-1.851V9.963
                    l-2.544-1.851L30.72,8h268.755l0.054,0.048l-2.632,1.915v14.074l2.632,1.915L299.475,26z"/>
                <path fill="#858A89" d="M325.11,17L309.163,4.751l-3.072,2.234l-4.667-4.236H28.613l-4.667,4.236l-3.072-2.234L4.926,17
                    l15.949,12.249l3.072-2.234l4.667,4.236h272.81l4.667-4.236l3.072,2.234L325.11,17z M20.907,26.751L8.209,17l12.698-9.751
                    l1.527,1.11L12.913,17l9.521,8.641L20.907,26.751z M24.499,9.861l3.642,2.648v8.981l-3.642,2.648L16.633,17L24.499,9.861z
                     M300.458,28.75H29.579l-3.567-3.238l4.129-3.003V11.491l-4.129-3.003l3.567-3.238h270.878l3.567,3.238l-4.128,3.003v11.019
                    l4.128,3.003L300.458,28.75z M305.538,9.861L313.404,17l-7.866,7.139l-3.642-2.648v-8.981L305.538,9.861z M307.603,25.641
                    L317.124,17l-9.521-8.641l1.527-1.11L321.827,17l-12.697,9.751L307.603,25.641z"/>
                </g>
            </svg>
</div>
</div>

<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/jquery.custom.no-module.js"></script>
<script type="text/javascript" src="js/greensock-js/src/minified/TweenMax.min.js"></script>
<script type="text/javascript" src="js/other.js"></script>
<script type="text/javascript">
var skills = [
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    },
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    },
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    },
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    },
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    },
    {
        title: 'Javascript',
        level: '70',
        levelProgress: '50%',
        perks: [
            {
                title: 'Novice',
                desc: 'Write novice javascript',
                x: 5,
                y: 0,
                linkTo: [
                    {x: 10, y: 1}, {x: 0, y: 5}
                ]
            },
            {
                title: 'Medium',
                desc: 'Write medium javascript',
                x: 0,
                y: 5
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 10
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 1,
                y: 7
            },
            {
                title: 'Expert',
                desc: 'Write expert javascript',
                x: 10,
                y: 1,
                linkTo: [
                    {x: 10, y: 10}
                ]
            }
        ]
    }
];
function addIdOnSkillsItem(skills){
    skills.map(function(skill, index_skill){
        skill.id = 'skill'+index_skill+'';
        skill.perks.map(function(perk, index_perk){
            perk.id = 'skill'+index_skill+'_'+index_perk;
            if(perk.linkTo) {
                perk.linkTo.map(function (link, index_link) {
                    link.id = 'skill'+index_skill + '_' + index_perk + '_' + index_link;
                });
            }
        });
    });
}
addIdOnSkillsItem(skills);
var skillsState = {
    zoomConstelation: false,
    centered: skills[0].id,
    movingConstelation: false
};

var globalSkillUl = document.querySelector('.skills');

var skillsLength = skills.length;
skills.map(function(skill, iterSkill){
    var skillLi = document.createElement('li');
    skillLi.classList.add('skill');
    skillLi.setAttribute('id', skill.id);
    var skillUl = document.createElement('ul');
    skillUl.classList.add('perks');
    var skillSpanTitle = document.createElement('span');
    skillSpanTitle.classList.add('skill--title');
    var skillSpanName = document.createElement('span');
    skillSpanName.classList.add('skill--name');
    var skillSpanLevel = document.createElement('span');
    skillSpanLevel.classList.add('skill--level');
    skillSpanName.innerHTML = skill.title;
    skillSpanLevel.innerHTML = skill.level;
    var skillDiv = document.createElement('div');
    skillDiv.classList.add('skill--progress');
    skillDiv.innerHTML = skill.levelProgress;
    skillSpanTitle.appendChild(skillSpanName);
    skillSpanTitle.appendChild(document.createTextNode(' '));
    skillSpanTitle.appendChild(skillSpanLevel);
    skillLi.appendChild(skillUl);
    skillLi.appendChild(skillSpanTitle);
    skillLi.appendChild(skillDiv);

    var coeff = 120*iterSkill +40;
    if(skillsLength/2 < iterSkill) {
        coeff = (skillsLength - iterSkill)*-120 -40;
    } else if(iterSkill === 0 ) {
        coeff = 0;
    }

    TweenMax.to(skillLi, 0, {x: coeff+'%'});

    E.addHandler(skillLi, 'click', function(e){
        if(skillsState.movingConstelation) {
            return;
        }
        var target = e.target;
        while(!target.classList.contains('skill')) {
            target = target.parentElement;
        }
        if(skillsState.centered === skill.id ) {
            skillsState.zoomConstelation = true;
            zoomInConstelation(skillLi);
            var leftSkill = Math.floor((skillsLength - 1)/2);
            var rightSkill = skillsLength - leftSkill -1 ;
            var currentId = target.getAttribute('id');
            var numId = currentId.substring(5, 6);
            for(var i = 0; i < leftSkill; i++) {
                var newId = ((parseInt(skillsState.centered.substring(5,6)) - (leftSkill-i))%skillsLength);
                newId = newId < 0 ? skillsLength +newId : newId;
                TweenMax.to('#skill'+newId, 2, {x: '-=2000'});
            }
            for(var i = 0; i < rightSkill; i++) {
                var newId = (parseInt(skillsState.centered.substring(5,6)) + i +1)%skillsLength;
                TweenMax.to('#skill'+newId, 2, {x: '+=2000'});
            }
        } else {
            skillsState.movingConstelation = true;
            var targetId = target.getAttribute('id');
            var targetNumId = parseInt(targetId.substring(5,6));
            var centeredId = parseInt(skillsState.centered.substring(5,6));
            var decalage = centeredId - targetNumId;
            var tl = new TimelineMax({onComplete: function(){
                skillsState.centered = targetId;
                if(decalage > 0) {
                    var idFromWhereToBeginMove = (parseInt(skillsState.centered.substring(5,6)) + (skillsLength%2 === 0 ? skillsLength/2+1 :  Math.ceil(skillsLength/2))) % skillsLength;
                    for(var i = 0; i < decalage; i++) {
                        TweenMax.to('#skill'+((idFromWhereToBeginMove+i)% skillsLength), 0, {x: '-='+(120*skillsLength+ 80) +'%'})
                    }
                } else {
                    var idFromWhereToBeginMove = (parseInt(skillsState.centered.substring(5,6)) - Math.floor(skillsLength/2+(skillsLength%2 === 1 ? 1 :0))) % skillsLength;
                    idFromWhereToBeginMove = idFromWhereToBeginMove < 0 ? skillsLength +idFromWhereToBeginMove : idFromWhereToBeginMove;
                    for(var i = 0; i < decalage*-1; i++) {
                        var newId = ((idFromWhereToBeginMove-i)%skillsLength);
                        newId = newId < 0 ? skillsLength +newId : newId;
                        TweenMax.to('#skill'+newId, 0, {x: '+='+(120*skillsLength+ 80) +'%'})
                    }
                }
                skillsState.movingConstelation = false;
            }});
            tl.addLabel('start');
            if((targetNumId > centeredId && Math.abs(decalage) > skillsLength/2) || (targetNumId < centeredId && Math.abs(decalage) <= skillsLength/2)) {
                if(targetNumId > centeredId && Math.abs(decalage) > skillsLength/2) {
                    decalage = (skillsLength + decalage);
                }

                tl.to('.skill', 1, {x: '+='+(120*decalage)+'%'}, 'start');
                for (var b = 0; b <= decalage; b++) {
                    tl.to('#skill' + ((targetNumId + b) % skillsLength), 1, {x: '+=' + (120 * decalage + ((b === 0 || b === decalage) ? 40 : 80)) + '%'}, 'start');
                }
                skillsState.centered = targetId;
            } else {
                if(centeredId > targetNumId && Math.abs(decalage) > skillsLength/2) {
                    decalage = (skillsLength - decalage)*-1;
                }
                tl.to('.skill', 1, {x: '+='+(120*decalage)+'%'}, 'start');
                for (var b = 0; b <= decalage*-1; b++) {
                    tl.to('#skill' + ((centeredId + b) % skillsLength), 1, {x: '+=' + (120 * decalage - ((b === 0 || b === decalage*-1) ? 40 : 80)) + '%'}, 'start');
                }
            }

            TweenMax.to('.background-fullsize',1, {backgroundPosition: '+='+100*decalage+'px 0', onComplete: function(){

            }});
        }
    });


    createPerks(skill.perks, skillUl);

    globalSkillUl.appendChild(skillLi);
});

var perks = document.getElementsByClassName('perks');
for(var i = 0; i < perks.length; i++){
    resizePerkToPerk(perks[i]);
}
var style = document.createElement('style');
style.innerHTML = '.perks.transform {transform: rotateX(60deg) translate3d(0,50%,0);';
document.head.appendChild(style);

function resizePerkToPerk (ul) {
    var ulH = ul.offsetHeight;
    var ulW = ul.offsetWidth;
    var skillElm = ul.parentElement;
    var skillId = skillElm.getAttribute('id');
    skills[skillId.substring(5)].perks.map(function (elm, index) {
        if (elm.linkTo) {
            elm.linkTo.map(function (elm2, index) {
                var verticalLength = (ulH / 100) * (elm2.y * 10 - elm.y * 10);
                var horizontalLength = (ulW / 100) * (elm2.x * 10 - elm.x * 10);
                var elmToTween = document.getElementById(elm2.id);
                TweenMax.to(elmToTween, 0, {
                    bottom: elm.y * 10 + '%',
                    left: elm.x * 10 + '%',
                    rotationZ: radToDegrees(Math.atan(horizontalLength / verticalLength)),
                    height: Math.sqrt(verticalLength * verticalLength + horizontalLength * horizontalLength)
                });
            });
        }
    });
}
function createPerks(perks, ul) {
    var ulH = ul.offsetHeight;
    var ulW = ul.offsetWidth;
    perks.map(function(elm, index){
        var title = document.createElement('div');
        var img = document.createElement('div');
        var desc = document.createElement('div');
        title.classList.add('perk--title');
        img.classList.add('perk--img');
        desc.classList.add('perk--desc');
        title.innerHTML = elm.title;
        desc.innerHTML = elm.desc;
        var li = document.createElement('li');
        li.classList.add('perk');
        li.setAttribute('id', elm.id);
        li.setAttribute('data-x', elm.x);
        li.setAttribute('data-y', elm.y);
        li.appendChild(title);
        li.appendChild(img);
        li.appendChild(desc);
        TweenMax.to(li, 0, {bottom: elm.y * 10+'%', left: elm.x * 10+'%'});
        E.addHandler(li, 'click', function(){
            if(skillsState.zoomConstelation) {
                style.innerHTML = '.perks.transform {transform: rotateX(60deg) translate3d(' + (elm.x * -10 + 50) + '%,' + (elm.y * 10 - 3) + '%,0);';
                ul.classList.add('transform');
            }
        });
        ul.appendChild(li);
        if(elm.linkTo) {
            elm.linkTo.map(function (elm2, index) {
                ul.appendChild(createPerkToPerk(elm, elm2, ulH, ulW))
            });
        }
    });
}
function createPerkToPerk(elm, elm2, ulH, ulW) {
    var verticalLength = (ulH/100)*(elm2.y*10 - elm.y*10);
    var horizontalLength = (ulW/100)*(elm2.x*10 - elm.x*10);
    var li2 = document.createElement('li');
    li2.setAttribute('id', elm2.id);
    li2.classList.add('perkToPerk');
    TweenMax.to(li2, 0, {
        bottom: elm.y * 10 + '%',
        left: elm.x * 10 + '%',
        rotationZ: radToDegrees(Math.atan(horizontalLength/verticalLength)),
        height: Math.sqrt(verticalLength*verticalLength + horizontalLength*horizontalLength)
    });
    return li2;
}

window.onresize = function(){
    var perks = document.getElementsByClassName('.perks');
    for(var i = 0; i < perks.length; i++) {
        resizePerkToPerk(perks[i]);
    }
};
function zoomOutConstelation(ul){
    skillsState.movingConstelation = true;
    TweenMax.to('.background-fullsize',1, {height: '100%', width: '100%', x: '0%', y : '0%'});
    TweenMax.to(ul, 1, {perspective: 10000, ease: Power4.easeIn});
    TweenMax.to('.perk--title, .perk--desc, .perkToPerk',.1, { autoAlpha: 0});
    TweenMax.to(ul, 1, {height: '4vw', width: '16vw', onComplete: function(){
        for(var i = 0; i < this.target.length; i++){
            this.target[i].style.height = this.vars.css.height;
            this.target[i].style.width = this.vars.css.width;
        }
        TweenMax.to(ul.getElementsByClassName('perkToPerk'),.5, { autoAlpha: 1, onComplete: function(){
            skillsState.movingConstelation = false;
        }});
        var perks = ul.getElementsByClassName('perks');
        for(var i = 0; i < perks.length; i++){
            resizePerkToPerk(perks[i]);
        }
    }});
}
function zoomInConstelation(ul){
    skillsState.movingConstelation = true;
    TweenMax.to('.background-fullsize',1, {height: '115%', width: '115%', x: '-7.5%', y : '-7.5%'});
    TweenMax.to(ul, 1, {perspective: 650, ease: Power4.easeOut});
    TweenMax.to(ul.getElementsByClassName('perkToPerk'),.1, { autoAlpha: 0});
    TweenMax.to(ul, 1, {height: '20vw', width: '60vw', onComplete: function(){
        for(var i = 0; i < this.target.length; i++){
            this.target[i].style.height = this.vars.css.height;
            this.target[i].style.width = this.vars.css.width;
        }
        TweenMax.to('.perk--title, .perk--desc, .perkToPerk',.5, { autoAlpha: 1, onComplete: function(){
            skillsState.movingConstelation = false;
        }});
        var perks = ul.getElementsByClassName('perks');
        for(var i = 0; i < perks.length; i++){
            resizePerkToPerk(perks[i]);
        }
    }});
}
</script>
</body>
</html>
